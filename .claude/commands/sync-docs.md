# 문서 동기화 (sync-docs)

코드 변경 후 관련 문서를 자동으로 업데이트합니다.

## 레포지토리 자동 감지

현재 작업 디렉토리에서 레포지토리를 자동으로 감지합니다:

```bash
# 현재 디렉토리 확인
pwd

# 레포 판단
# - Hao-Day-Backend 포함 → Backend 문서 (CLAUDE.md, README.md)
# - Hao-Day-Infra 포함 → Infra 문서 (CLAUDE.md)
# - Hao-Day-App 포함 → App 문서 (CLAUDE.md, README.md)
# - Hao-Day-Workspace → Workspace 문서
```

## 입력

변경 내용에 대한 간단한 설명 (선택사항):
$ARGUMENTS

## 수행 작업

1. **변경 사항 분석**
   - `git status`로 변경된 파일 확인
   - 변경 내용 분석

2. **문서 업데이트**
   - 레포별 CLAUDE.md 업데이트
   - README.md 업데이트 (필요시)

3. **GitHub 이슈 업데이트**
   - 관련 이슈의 체크리스트 업데이트
   - 완료된 항목 체크, 새 항목 추가

4. **커밋 & 푸시**
   - 변경 사항 커밋 (표준 커밋 메시지 형식)
   - origin에 푸시

## 레포별 문서 업데이트 포인트

### Backend
- **CLAUDE.md**: 최근 작업 내역, 적용된 패턴, 문제 해결 가이드
- 새 API 추가 시: API 엔드포인트 목록 갱신
- 설정 변경 시: 개발 환경 설정 갱신

### Infra
- **CLAUDE.md**: 서버 구성, 도메인 구조, Docker 이미지 버전
- nginx 설정 변경 시: 도메인 구조 갱신
- docker-compose 변경 시: 서비스 목록 갱신

### App
- **CLAUDE.md**: 완료된 작업, 다음 작업 예정
- 새 화면 추가 시: 화면 목록 갱신
- 새 기능 추가 시: 완료된 작업에 추가

## 실행 절차

1. 레포지토리 감지
2. git status로 변경 파일 확인
3. 변경 내용 분석
4. 관련 문서 업데이트 (CLAUDE.md, README.md 등)
5. 관련 GitHub 이슈 찾아서 체크리스트 업데이트
6. 커밋 메시지 작성 (docs: ...)
7. 커밋 & 푸시
8. 결과 요약 출력

## 사용 시점

- 기능 구현 완료 후
- API 엔드포인트 추가/변경 후
- 코드 리팩토링 후
- 설정 변경 후

## 주의사항

- 기존 문서 구조 유지
- 이슈 업데이트 시 기존 내용 보존
- 커밋 전 변경 내용 확인
